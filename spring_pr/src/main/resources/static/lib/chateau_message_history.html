<dom-module id="chateau-message-history">
    <style>
        .messagehistorycontainer {
            overflow-y: auto;
        }

        * {
            box-sizing: border-box;
        }

        table {
            table-layout: fixed;
            /*border-collapse: collapse;*/
            /*width: 100%;*/
            /*max-width: 100px;*/
        }

        td {
            width: 100px;
            overflow: hidden;
        }
    </style>
    <template>
        <div class="messagehistorycontainer">
            <table id="messagehistorytable">
                <col width="100" align="left">
                <col width="300" align="left">
                <col width="80" align="right">
            </table>
        </div>
    </template>
    <script>
        Polymer({
            is: 'chateau-message-history',
            properties: {
                //the last incoming messageFromServer
                newmessage: {
                    type: Object,
                    observer: 'newmessageChanged'
                }
            },
            ready: function () {
                console.log("messageFromServer-history-container is ready.");
            },
            // The function displays a new messageFromServer.
            newmessageChanged: function (newValue) {
                var row = this.$.messagehistorytable.insertRow(0);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                var cell3 = row.insertCell(2);
                cell1.innerHTML = newValue.username + ":";
                cell2.innerHTML = newValue.text;
                cell3.innerHTML = newValue.date;
                console.log("Added");
            }
        });
    </script>
</dom-module>
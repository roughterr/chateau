<dom-module id="chateau-message-history">
    <style>
        .messagehistorycontainer {
            overflow-y: auto;
        }
    </style>
    <template>
        <div class="messagehistorycontainer">
            <table id="messagehistorytable"></table>
        </div>
    </template>
    <script>
        Polymer({
            is: 'chateau-message-history',
            properties: {
                //the last incoming messageFromServer
                newmessage: {
                    type: Object,
                    observer: 'newmessageChanged'
                }
            },
            ready: function () {
                console.log("messageFromServer-history-container is ready.");
            },
            // The function displays a new messageFromServer.
            newmessageChanged: function (newValue) {
                var row = this.$.messagehistorytable.insertRow(0);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                cell1.innerHTML = newValue.username + ":";
                cell2.innerHTML = newValue.text;
                console.log("Added");
            }
        });
    </script>
</dom-module>